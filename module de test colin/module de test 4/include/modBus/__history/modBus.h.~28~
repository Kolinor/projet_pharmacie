//---------------------------------------------------------------------------
/*******************************************************
Nom ......... : modBus.h
Role ........ : créer la trame prête à envoyer au tcpClient
Auteur ...... : Colin.B
Version ..... : V1.1 du 03/05/2019

Compilation : c++ builder
********************************************************/
//---------------------------------------------------------------------------

#ifndef modBusH
#define modBusH
#include "../include/tcpClient/tcpClient.h"
//---------------------------------------------------------------------------

class modBus {

	private:
    	static unsigned int transactionId;

		char * trame;
		tcpClient * tcp;

	public:
		modBus();
		~modBus();
		//permet d'écrire sur les mots mémoire de l'automate
		unsigned int writeWord(unsigned int mot, unsigned int valeur);
		//permet de lire les mots mémoires de l'automate
		unsigned int readWord(unsigned int mot,unsigned int nbLecture,char * buffer);
		//permet de se connecter à l'automate
		bool connected(string adress, unsigned short port);
		//permet de se connecter à l'automate
		void disconnect();


};

#endif
